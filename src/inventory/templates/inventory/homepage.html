

{%extends 'home/base.html'%}
{%block content%}

<h1>Order</h1>	
<div id=app>
  [[title]]

  <input type="text" v-model="title">

  <li v-for= "item in items">[[item.item_name]]</li>
  
 <button v-on:click="getitem" class='btn btn-primarry btn-small'>get</button>
 </div>


{%endblock%}

{%block script%}
  <script >

new Vue({
  delimiters: ['[[', ']]'],
  el: '#app',
  data: {
    title: 'Take order',
    days:[1,2,3],
    items:''
  },
  methods:{
  	getitem:function(){
  		this.title='fetching data'
  		 this.$http.get('/api/item')
  		 .then(function(response){
  		 	this.items=response.data
  		 	this.title='data fetched'
  		 })
  		 .catch(function(error){
  		 	this.title='error getting items'
  		 })
  	}

  	},
  }
)
  </script>
{%endblock%}